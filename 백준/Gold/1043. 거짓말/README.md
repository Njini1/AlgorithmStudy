# [Gold IV] 거짓말 - 1043 

[문제 링크](https://www.acmicpc.net/problem/1043) 

### 성능 요약

메모리: 14200 KB, 시간: 104 ms

### 난이도 및 시간

- 중상
- 3시간 이상

### 풀이 리뷰

- 처음에는 단순히 구현으로 처음 값 받을 때만 진실을 아는지 여부를 판단하여 풀었음
- 하지만 이 방식은 후에 진실을 아는 사람이 나오고 그 파티에 같이 가는 사람도 진실만을 알기 때문에 이전에 갔던 파티에서도 진실만을 말해야하는데 이 처리를 하지 못함

### 풀이 키워드

- 유니온 파인드

### 풀이 방법

- 진실을 아는 사람은 집합의 대표(parent) 를 0으로 저장
- 각 파티에 참여한 사람들을 하나의 집합으로 묶음(union 함수)
- 마지막으로 파티의 참가한 사람들을 find 함수로 대표를 찾아내서 이 값이 0인 사람이 있다면 파티에 거짓말을 말할 수 없음. 그 이외에는 가능하기 때문에 answer + 1

### 시간 복잡도

- find 함수는 경로 압축으로 거의 O(1)
- 파티 수 M 최대 50이고, 사람 수 N 최대 50
- 전체 시간복잡도: **O(N + M + P)** (P는 파티원 수 총합)

### 노션 정리 링크
https://www.notion.so/1043-1efe550432f4807dbba1c3c47cdf15bc

### 분류

자료 구조, 분리 집합, 그래프 이론, 그래프 탐색

### 제출 일자

2025년 5월 12일 23:55:02

### 문제 설명

<p>지민이는 파티에 가서 이야기 하는 것을 좋아한다. 파티에 갈 때마다, 지민이는 지민이가 가장 좋아하는 이야기를 한다. 지민이는 그 이야기를 말할 때, 있는 그대로 진실로 말하거나 엄청나게 과장해서 말한다. 당연히 과장해서 이야기하는 것이 훨씬 더 재미있기 때문에, 되도록이면 과장해서 이야기하려고 한다. 하지만, 지민이는 거짓말쟁이로 알려지기는 싫어한다. 문제는 몇몇 사람들은 그 이야기의 진실을 안다는 것이다. 따라서 이런 사람들이 파티에 왔을 때는, 지민이는 진실을 이야기할 수 밖에 없다. 당연히, 어떤 사람이 어떤 파티에서는 진실을 듣고, 또다른 파티에서는 과장된 이야기를 들었을 때도 지민이는 거짓말쟁이로 알려지게 된다. 지민이는 이런 일을 모두 피해야 한다.</p>

<p>사람의 수 N이 주어진다. 그리고 그 이야기의 진실을 아는 사람이 주어진다. 그리고 각 파티에 오는 사람들의 번호가 주어진다. 지민이는 모든 파티에 참가해야 한다. 이때, 지민이가 거짓말쟁이로 알려지지 않으면서, 과장된 이야기를 할 수 있는 파티 개수의 최댓값을 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 사람의 수 N과 파티의 수 M이 주어진다.</p>

<p>둘째 줄에는 이야기의 진실을 아는 사람의 수와 번호가 주어진다. 진실을 아는 사람의 수가 먼저 주어지고 그 개수만큼 사람들의 번호가 주어진다. 사람들의 번호는 1부터 N까지의 수로 주어진다.</p>

<p>셋째 줄부터 M개의 줄에는 각 파티마다 오는 사람의 수와 번호가 같은 방식으로 주어진다.</p>

<p>N, M은 50 이하의 자연수이고, 진실을 아는 사람의 수는 0 이상 50 이하의 정수, 각 파티마다 오는 사람의 수는 1 이상 50 이하의 정수이다.</p>

### 출력 

 <p>첫째 줄에 문제의 정답을 출력한다.</p>

